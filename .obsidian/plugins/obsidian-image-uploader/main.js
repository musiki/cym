var qn=Object.create,qe=Object.defineProperty,Tn=Object.getPrototypeOf,Sn=Object.prototype.hasOwnProperty,An=Object.getOwnPropertyNames,_n=Object.getOwnPropertyDescriptor;var Ht=t=>qe(t,"__esModule",{value:!0});var q=(t,e)=>()=>(e||(e={exports:{}},t(e.exports,e)),e.exports),Fn=(t,e)=>{for(var r in e)qe(t,r,{get:e[r],enumerable:!0})},On=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of An(e))!Sn.call(t,n)&&n!=="default"&&qe(t,n,{get:()=>e[n],enumerable:!(r=_n(e,n))||r.enumerable});return t},we=t=>On(Ht(qe(t!=null?qn(Tn(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Xe=q((es,It)=>{"use strict";It.exports=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}}});var j=q((ts,Mt)=>{"use strict";var Bn=Xe(),re=Object.prototype.toString;function Ge(t){return re.call(t)==="[object Array]"}function Ke(t){return typeof t=="undefined"}function Un(t){return t!==null&&!Ke(t)&&t.constructor!==null&&!Ke(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Pn(t){return re.call(t)==="[object ArrayBuffer]"}function Dn(t){return typeof FormData!="undefined"&&t instanceof FormData}function Ln(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function Nn(t){return typeof t=="string"}function kn(t){return typeof t=="number"}function jt(t){return t!==null&&typeof t=="object"}function Te(t){if(re.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Hn(t){return re.call(t)==="[object Date]"}function In(t){return re.call(t)==="[object File]"}function Mn(t){return re.call(t)==="[object Blob]"}function zt(t){return re.call(t)==="[object Function]"}function jn(t){return jt(t)&&zt(t.pipe)}function zn(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function Wn(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Vn(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Ye(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),Ge(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Ze(){var t={};function e(i,a){Te(t[a])&&Te(i)?t[a]=Ze(t[a],i):Te(i)?t[a]=Ze({},i):Ge(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)Ye(arguments[r],e);return t}function Jn(t,e,r){return Ye(e,function(i,a){r&&typeof i=="function"?t[a]=Bn(i,r):t[a]=i}),t}function $n(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}Mt.exports={isArray:Ge,isArrayBuffer:Pn,isBuffer:Un,isFormData:Dn,isArrayBufferView:Ln,isString:Nn,isNumber:kn,isObject:jt,isPlainObject:Te,isUndefined:Ke,isDate:Hn,isFile:In,isBlob:Mn,isFunction:zt,isStream:jn,isURLSearchParams:zn,isStandardBrowserEnv:Vn,forEach:Ye,merge:Ze,extend:Jn,trim:Wn,stripBOM:$n}});var Se=q((rs,Wt)=>{"use strict";var le=j();function Vt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}Wt.exports=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(le.isURLSearchParams(r))i=r.toString();else{var a=[];le.forEach(r,function(o,C){o===null||typeof o=="undefined"||(le.isArray(o)?C=C+"[]":o=[o],le.forEach(o,function(u){le.isDate(u)?u=u.toISOString():le.isObject(u)&&(u=JSON.stringify(u)),a.push(Vt(C)+"="+Vt(u))}))}),i=a.join("&")}if(i){var f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}});var $t=q((ns,Jt)=>{"use strict";var Xn=j();function Ae(){this.handlers=[]}Ae.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Ae.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Ae.prototype.forEach=function(e){Xn.forEach(this.handlers,function(n){n!==null&&e(n)})};Jt.exports=Ae});var Gt=q((is,Xt)=>{"use strict";var Gn=j();Xt.exports=function(e,r){Gn.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})}});var _e=q((ss,Kt)=>{"use strict";Kt.exports=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}});var Fe=q((as,Yt)=>{"use strict";var Kn=_e();Yt.exports=function(e,r,n,i,a){var f=new Error(e);return Kn(f,r,n,i,a)}});var Qe=q((os,Zt)=>{"use strict";var Yn=Fe();Zt.exports=function(e,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):r(Yn("Request failed with status code "+n.status,n.config,null,n.request,n))}});var er=q((us,Qt)=>{"use strict";var Oe=j();Qt.exports=Oe.isStandardBrowserEnv()?function(){return{write:function(r,n,i,a,f,m){var o=[];o.push(r+"="+encodeURIComponent(n)),Oe.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),Oe.isString(a)&&o.push("path="+a),Oe.isString(f)&&o.push("domain="+f),m===!0&&o.push("secure"),document.cookie=o.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var rr=q((ls,tr)=>{"use strict";tr.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}});var ir=q((cs,nr)=>{"use strict";nr.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}});var et=q((fs,sr)=>{"use strict";var Zn=rr(),Qn=ir();sr.exports=function(e,r){return e&&!Zn(r)?Qn(e,r):r}});var or=q((ds,ar)=>{"use strict";var tt=j(),ei=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];ar.exports=function(e){var r={},n,i,a;return e&&tt.forEach(e.split(`
`),function(m){if(a=m.indexOf(":"),n=tt.trim(m.substr(0,a)).toLowerCase(),i=tt.trim(m.substr(a+1)),n){if(r[n]&&ei.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var cr=q((hs,ur)=>{"use strict";var lr=j();ur.exports=lr.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(a){var f=a;return e&&(r.setAttribute("href",f),f=r.href),r.setAttribute("href",f),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(f){var m=lr.isString(f)?i(f):f;return m.protocol===n.protocol&&m.host===n.host}}():function(){return function(){return!0}}()});var dr=q((ps,fr)=>{"use strict";var Be=j(),ti=Qe(),ri=er(),ni=Se(),ii=et(),si=or(),ai=cr(),rt=Fe();fr.exports=function(e){return new Promise(function(n,i){var a=e.data,f=e.headers,m=e.responseType;Be.isFormData(a)&&delete f["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var C=e.auth.username||"",s=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(C+":"+s)}var u=ii(e.baseURL,e.url);o.open(e.method.toUpperCase(),ni(u,e.params,e.paramsSerializer),!0),o.timeout=e.timeout;function g(){if(!!o){var O="getAllResponseHeaders"in o?si(o.getAllResponseHeaders()):null,_=!m||m==="text"||m==="json"?o.responseText:o.response,v={data:_,status:o.status,statusText:o.statusText,headers:O,config:e,request:o};ti(n,i,v),o=null}}if("onloadend"in o?o.onloadend=g:o.onreadystatechange=function(){!o||o.readyState!==4||o.status===0&&!(o.responseURL&&o.responseURL.indexOf("file:")===0)||setTimeout(g)},o.onabort=function(){!o||(i(rt("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){i(rt("Network Error",e,null,o)),o=null},o.ontimeout=function(){var _="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(_=e.timeoutErrorMessage),i(rt(_,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",o)),o=null},Be.isStandardBrowserEnv()){var y=(e.withCredentials||ai(u))&&e.xsrfCookieName?ri.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}"setRequestHeader"in o&&Be.forEach(f,function(_,v){typeof a=="undefined"&&v.toLowerCase()==="content-type"?delete f[v]:o.setRequestHeader(v,_)}),Be.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),m&&m!=="json"&&(o.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&o.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(_){!o||(o.abort(),i(_),o=null)}),a||(a=null),o.send(a)})}});var pr=q((ms,hr)=>{var ce=1e3,fe=ce*60,de=fe*60,ne=de*24,oi=ne*7,ui=ne*365.25;hr.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return li(t);if(r==="number"&&isFinite(t))return e.long?fi(t):ci(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function li(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*ui;case"weeks":case"week":case"w":return r*oi;case"days":case"day":case"d":return r*ne;case"hours":case"hour":case"hrs":case"hr":case"h":return r*de;case"minutes":case"minute":case"mins":case"min":case"m":return r*fe;case"seconds":case"second":case"secs":case"sec":case"s":return r*ce;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function ci(t){var e=Math.abs(t);return e>=ne?Math.round(t/ne)+"d":e>=de?Math.round(t/de)+"h":e>=fe?Math.round(t/fe)+"m":e>=ce?Math.round(t/ce)+"s":t+"ms"}function fi(t){var e=Math.abs(t);return e>=ne?Ue(t,e,ne,"day"):e>=de?Ue(t,e,de,"hour"):e>=fe?Ue(t,e,fe,"minute"):e>=ce?Ue(t,e,ce,"second"):t+" ms"}function Ue(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var vr=q((vs,mr)=>{function di(t){r.debug=r,r.default=r,r.coerce=o,r.disable=a,r.enable=i,r.enabled=f,r.humanize=pr(),r.destroy=C,Object.keys(t).forEach(s=>{r[s]=t[s]}),r.names=[],r.skips=[],r.formatters={};function e(s){let u=0;for(let g=0;g<s.length;g++)u=(u<<5)-u+s.charCodeAt(g),u|=0;return r.colors[Math.abs(u)%r.colors.length]}r.selectColor=e;function r(s){let u,g=null,y,O;function _(...v){if(!_.enabled)return;let l=_,b=Number(new Date),x=b-(u||b);l.diff=x,l.prev=u,l.curr=b,u=b,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let S=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(Q,se)=>{if(Q==="%%")return"%";S++;let G=r.formatters[se];if(typeof G=="function"){let ae=v[S];Q=G.call(l,ae),v.splice(S,1),S--}return Q}),r.formatArgs.call(l,v),(l.log||r.log).apply(l,v)}return _.namespace=s,_.useColors=r.useColors(),_.color=r.selectColor(s),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==r.namespaces&&(y=r.namespaces,O=r.enabled(s)),O),set:v=>{g=v}}),typeof r.init=="function"&&r.init(_),_}function n(s,u){let g=r(this.namespace+(typeof u=="undefined"?":":u)+s);return g.log=this.log,g}function i(s){r.save(s),r.namespaces=s,r.names=[],r.skips=[];let u,g=(typeof s=="string"?s:"").split(/[\s,]+/),y=g.length;for(u=0;u<y;u++)!g[u]||(s=g[u].replace(/\*/g,".*?"),s[0]==="-"?r.skips.push(new RegExp("^"+s.substr(1)+"$")):r.names.push(new RegExp("^"+s+"$")))}function a(){let s=[...r.names.map(m),...r.skips.map(m).map(u=>"-"+u)].join(",");return r.enable(""),s}function f(s){if(s[s.length-1]==="*")return!0;let u,g;for(u=0,g=r.skips.length;u<g;u++)if(r.skips[u].test(s))return!1;for(u=0,g=r.names.length;u<g;u++)if(r.names[u].test(s))return!0;return!1}function m(s){return s.toString().substring(2,s.toString().length-2).replace(/\.\*\?$/,"*")}function o(s){return s instanceof Error?s.stack||s.message:s}function C(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}mr.exports=di});var gr=q((V,Pe)=>{V.formatArgs=hi;V.save=pi;V.load=mi;V.useColors=vi;V.storage=gi();V.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();V.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function vi(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function hi(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Pe.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}V.log=console.debug||console.log||(()=>{});function pi(t){try{t?V.storage.setItem("debug",t):V.storage.removeItem("debug")}catch(e){}}function mi(){let t;try{t=V.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function gi(){try{return localStorage}catch(t){}}Pe.exports=vr()(V);var{formatters:yi}=Pe.exports;yi.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var br=q((gs,yr)=>{var Ce;yr.exports=function(){if(!Ce){try{Ce=gr()("follow-redirects")}catch(t){}typeof Ce!="function"&&(Ce=function(){})}Ce.apply(null,arguments)}});var ut=q((ys,nt)=>{var ie=require("url"),it=ie.URL,bi=require("http"),wi=require("https"),wr=require("stream").Writable,Ci=require("assert"),Cr=br(),st=["abort","aborted","connect","error","socket","timeout"],at=Object.create(null);st.forEach(function(t){at[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var Er=De("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),Ei=De("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),xi=De("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),Ri=De("ERR_STREAM_WRITE_AFTER_END","write after end");function J(t,e){wr.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}J.prototype=Object.create(wr.prototype);J.prototype.abort=function(){xr(this._currentRequest),this.emit("abort")};J.prototype.write=function(t,e,r){if(this._ending)throw new Ri;if(!(typeof t=="string"||typeof t=="object"&&"length"in t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof e=="function"&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new xi),this.abort())};J.prototype.end=function(t,e,r){if(typeof t=="function"?(r=t,t=e=null):typeof e=="function"&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};J.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};J.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};J.prototype.setTimeout=function(t,e){var r=this;function n(f){f.setTimeout(t),f.removeListener("timeout",f.destroy),f.addListener("timeout",f.destroy)}function i(f){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),a()},t),n(f)}function a(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",a),r.removeListener("error",a),r.removeListener("response",a),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",a),this.on("error",a),this.on("response",a),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){J.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(J.prototype,t,{get:function(){return this._currentRequest[t]}})});J.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};J.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var i of st)n.on(i,at[i]);if(this._currentUrl=/^\//.test(this._options.path)?ie.format(this._options):this._currentUrl=this._options.path,this._isRedirect){var a=0,f=this,m=this._requestBodyBuffers;(function o(C){if(n===f._currentRequest)if(C)f.emit("error",C);else if(a<m.length){var s=m[a++];n.finished||n.write(s.data,s.encoding,o)}else f._ended&&n.end()})()}};J.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(xr(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new Ei);return}var n,i=this._options.beforeRedirect;i&&(n=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var a=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],ot(/^content-/i,this._options.headers));var f=ot(/^host$/i,this._options.headers),m=ie.parse(this._currentUrl),o=f||m.host,C=/^\w+:/.test(r)?this._currentUrl:ie.format(Object.assign(m,{host:o})),s;try{s=ie.resolve(C,r)}catch(O){this.emit("error",new Er(O));return}Cr("redirecting to",s),this._isRedirect=!0;var u=ie.parse(s);if(Object.assign(this._options,u),(u.protocol!==m.protocol&&u.protocol!=="https:"||u.host!==o&&!qi(u.host,o))&&ot(/^(?:authorization|cookie)$/i,this._options.headers),typeof i=="function"){var g={headers:t.headers,statusCode:e},y={url:C,method:a,headers:n};try{i(this._options,g,y)}catch(O){this.emit("error",O);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(O){this.emit("error",new Er(O))}};function qr(t){var e={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(t).forEach(function(n){var i=n+":",a=r[i]=t[n],f=e[n]=Object.create(a);function m(C,s,u){if(typeof C=="string"){var g=C;try{C=Rr(new it(g))}catch(y){C=ie.parse(g)}}else it&&C instanceof it?C=Rr(C):(u=s,s=C,C={protocol:i});return typeof s=="function"&&(u=s,s=null),s=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},C,s),s.nativeProtocols=r,Ci.equal(s.protocol,i,"protocol mismatch"),Cr("options",s),new J(s,u)}function o(C,s,u){var g=f.request(C,s,u);return g.end(),g}Object.defineProperties(f,{request:{value:m,configurable:!0,enumerable:!0,writable:!0},get:{value:o,configurable:!0,enumerable:!0,writable:!0}})}),e}function Ti(){}function Rr(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function ot(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r=="undefined"?void 0:String(r).trim()}function De(t,e){function r(n){Error.captureStackTrace(this,this.constructor),n?(this.message=e+": "+n.message,this.cause=n):this.message=e}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+t+"]",r.prototype.code=t,r}function xr(t){for(var e of st)t.removeListener(e,at[e]);t.on("error",Ti),t.abort()}function qi(t,e){let r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}nt.exports=qr({http:bi,https:wi});nt.exports.wrap=qr});var lt=q((bs,Tr)=>{Tr.exports={_from:"axios@0.21.4",_id:"axios@0.21.4",_inBundle:!1,_integrity:"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==",_location:"/axios",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"axios@0.21.4",name:"axios",escapedName:"axios",rawSpec:"0.21.4",saveSpec:null,fetchSpec:"0.21.4"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz",_shasum:"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575",_spec:"axios@0.21.4",_where:"C:\\Users\\Creling\\Codes\\obsidian-image-uploader",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundleDependencies:!1,bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.14.0"},deprecated:!1,description:"Promise based HTTP client for the browser and node.js",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},homepage:"https://axios-http.com",jsdelivr:"dist/axios.min.js",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",fix:"eslint --fix lib/**/*.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",unpkg:"dist/axios.min.js",version:"0.21.4"}});var Br=q((ws,Sr)=>{"use strict";var Ee=j(),Ar=Qe(),Si=et(),Ai=Se(),_i=require("http"),Fi=require("https"),Oi=ut().http,Bi=ut().https,_r=require("url"),Ui=require("zlib"),Pi=lt(),Le=Fe(),ct=_e(),Fr=/https:?/;function Or(t,e,r){if(t.hostname=e.host,t.host=e.host,t.port=e.port,t.path=r,e.auth){var n=Buffer.from(e.auth.username+":"+e.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+n}t.beforeRedirect=function(a){a.headers.host=a.host,Or(a,e,a.href)}}Sr.exports=function(e){return new Promise(function(n,i){var a=function(d){n(d)},f=function(d){i(d)},m=e.data,o=e.headers;if("User-Agent"in o||"user-agent"in o?!o["User-Agent"]&&!o["user-agent"]&&(delete o["User-Agent"],delete o["user-agent"]):o["User-Agent"]="axios/"+Pi.version,m&&!Ee.isStream(m)){if(!Buffer.isBuffer(m))if(Ee.isArrayBuffer(m))m=Buffer.from(new Uint8Array(m));else if(Ee.isString(m))m=Buffer.from(m,"utf-8");else return f(Le("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));o["Content-Length"]=m.length}var C=void 0;if(e.auth){var s=e.auth.username||"",u=e.auth.password||"";C=s+":"+u}var g=Si(e.baseURL,e.url),y=_r.parse(g),O=y.protocol||"http:";if(!C&&y.auth){var _=y.auth.split(":"),v=_[0]||"",l=_[1]||"";C=v+":"+l}C&&delete o.Authorization;var b=Fr.test(O),x=b?e.httpsAgent:e.httpAgent,S={path:Ai(y.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:o,agent:x,agents:{http:e.httpAgent,https:e.httpsAgent},auth:C};e.socketPath?S.socketPath=e.socketPath:(S.hostname=y.hostname,S.port=y.port);var D=e.proxy;if(!D&&D!==!1){var Q=O.slice(0,-1)+"_proxy",se=process.env[Q]||process.env[Q.toUpperCase()];if(se){var G=_r.parse(se),ae=process.env.no_proxy||process.env.NO_PROXY,pe=!0;if(ae){var ee=ae.split(",").map(function(d){return d.trim()});pe=!ee.some(function(d){return d?d==="*"||d[0]==="."&&y.hostname.substr(y.hostname.length-d.length)===d?!0:y.hostname===d:!1})}if(pe&&(D={host:G.hostname,port:G.port,protocol:G.protocol},G.auth)){var Re=G.auth.split(":");D.auth={username:Re[0],password:Re[1]}}}}D&&(S.headers.host=y.hostname+(y.port?":"+y.port:""),Or(S,D,O+"//"+y.hostname+(y.port?":"+y.port:"")+S.path));var te,K=b&&(D?Fr.test(D.protocol):!0);e.transport?te=e.transport:e.maxRedirects===0?te=K?Fi:_i:(e.maxRedirects&&(S.maxRedirects=e.maxRedirects),te=K?Bi:Oi),e.maxBodyLength>-1&&(S.maxBodyLength=e.maxBodyLength);var L=te.request(S,function(d){if(!L.aborted){var c=d,h=d.req||L;if(d.statusCode!==204&&h.method!=="HEAD"&&e.decompress!==!1)switch(d.headers["content-encoding"]){case"gzip":case"compress":case"deflate":c=c.pipe(Ui.createUnzip()),delete d.headers["content-encoding"];break}var p={status:d.statusCode,statusText:d.statusMessage,headers:d.headers,config:e,request:h};if(e.responseType==="stream")p.data=c,Ar(a,f,p);else{var E=[],w=0;c.on("data",function(T){E.push(T),w+=T.length,e.maxContentLength>-1&&w>e.maxContentLength&&(c.destroy(),f(Le("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,h)))}),c.on("error",function(T){L.aborted||f(ct(T,e,null,h))}),c.on("end",function(){var T=Buffer.concat(E);e.responseType!=="arraybuffer"&&(T=T.toString(e.responseEncoding),(!e.responseEncoding||e.responseEncoding==="utf8")&&(T=Ee.stripBOM(T))),p.data=T,Ar(a,f,p)})}}});if(L.on("error",function(d){L.aborted&&d.code!=="ERR_FR_TOO_MANY_REDIRECTS"||f(ct(d,e,null,L))}),e.timeout){var me=parseInt(e.timeout,10);if(isNaN(me)){f(Le("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",L));return}L.setTimeout(me,function(){L.abort(),f(Le("timeout of "+me+"ms exceeded",e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",L))})}e.cancelToken&&e.cancelToken.promise.then(function(d){L.aborted||(L.abort(),f(d))}),Ee.isStream(m)?m.on("error",function(d){f(ct(d,e,null,L))}).pipe(L):L.end(m)})}});var ke=q((Cs,Ur)=>{"use strict";var k=j(),Pr=Gt(),Di=_e(),Li={"Content-Type":"application/x-www-form-urlencoded"};function Dr(t,e){!k.isUndefined(t)&&k.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function Ni(){var t;return typeof XMLHttpRequest!="undefined"?t=dr():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(t=Br()),t}function ki(t,e,r){if(k.isString(t))try{return(e||JSON.parse)(t),k.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var Ne={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Ni(),transformRequest:[function(e,r){return Pr(r,"Accept"),Pr(r,"Content-Type"),k.isFormData(e)||k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e)?e:k.isArrayBufferView(e)?e.buffer:k.isURLSearchParams(e)?(Dr(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):k.isObject(e)||r&&r["Content-Type"]==="application/json"?(Dr(r,"application/json"),ki(e)):e}],transformResponse:[function(e){var r=this.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,a=!n&&this.responseType==="json";if(a||i&&k.isString(e)&&e.length)try{return JSON.parse(e)}catch(f){if(a)throw f.name==="SyntaxError"?Di(f,this,"E_JSON_PARSE"):f}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Ne.headers={common:{Accept:"application/json, text/plain, */*"}};k.forEach(["delete","get","head"],function(e){Ne.headers[e]={}});k.forEach(["post","put","patch"],function(e){Ne.headers[e]=k.merge(Li)});Ur.exports=Ne});var Nr=q((Es,Lr)=>{"use strict";var Hi=j(),Ii=ke();Lr.exports=function(e,r,n){var i=this||Ii;return Hi.forEach(n,function(f){e=f.call(i,e,r)}),e}});var ft=q((xs,kr)=>{"use strict";kr.exports=function(e){return!!(e&&e.__CANCEL__)}});var Mr=q((Rs,Hr)=>{"use strict";var Ir=j(),dt=Nr(),Mi=ft(),ji=ke();function ht(t){t.cancelToken&&t.cancelToken.throwIfRequested()}Hr.exports=function(e){ht(e),e.headers=e.headers||{},e.data=dt.call(e,e.data,e.headers,e.transformRequest),e.headers=Ir.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Ir.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||ji.adapter;return r(e).then(function(i){return ht(e),i.data=dt.call(e,i.data,i.headers,e.transformResponse),i},function(i){return Mi(i)||(ht(e),i&&i.response&&(i.response.data=dt.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})}});var pt=q((qs,jr)=>{"use strict";var M=j();jr.exports=function(e,r){r=r||{};var n={},i=["url","method","data"],a=["headers","auth","proxy","params"],f=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],m=["validateStatus"];function o(g,y){return M.isPlainObject(g)&&M.isPlainObject(y)?M.merge(g,y):M.isPlainObject(y)?M.merge({},y):M.isArray(y)?y.slice():y}function C(g){M.isUndefined(r[g])?M.isUndefined(e[g])||(n[g]=o(void 0,e[g])):n[g]=o(e[g],r[g])}M.forEach(i,function(y){M.isUndefined(r[y])||(n[y]=o(void 0,r[y]))}),M.forEach(a,C),M.forEach(f,function(y){M.isUndefined(r[y])?M.isUndefined(e[y])||(n[y]=o(void 0,e[y])):n[y]=o(void 0,r[y])}),M.forEach(m,function(y){y in r?n[y]=o(e[y],r[y]):y in e&&(n[y]=o(void 0,e[y]))});var s=i.concat(a).concat(f).concat(m),u=Object.keys(e).concat(Object.keys(r)).filter(function(y){return s.indexOf(y)===-1});return M.forEach(u,C),n}});var $r=q((Ts,zr)=>{"use strict";var Wr=lt(),mt={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){mt[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var Vr={},zi=Wr.version.split(".");function Jr(t,e){for(var r=e?e.split("."):zi,n=t.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}mt.transitional=function(e,r,n){var i=r&&Jr(r);function a(f,m){return"[Axios v"+Wr.version+"] Transitional option '"+f+"'"+m+(n?". "+n:"")}return function(f,m,o){if(e===!1)throw new Error(a(m," has been removed in "+r));return i&&!Vr[m]&&(Vr[m]=!0,console.warn(a(m," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(f,m,o):!0}};function Wi(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],f=e[a];if(f){var m=t[a],o=m===void 0||f(m,a,t);if(o!==!0)throw new TypeError("option "+a+" must be "+o);continue}if(r!==!0)throw Error("Unknown option "+a)}}zr.exports={isOlderVersion:Jr,assertOptions:Wi,validators:mt}});var Qr=q((Ss,Xr)=>{"use strict";var Gr=j(),Vi=Se(),Kr=$t(),Yr=Mr(),He=pt(),Zr=$r(),he=Zr.validators;function xe(t){this.defaults=t,this.interceptors={request:new Kr,response:new Kr}}xe.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=He(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&Zr.assertOptions(r,{silentJSONParsing:he.transitional(he.boolean,"1.0.0"),forcedJSONParsing:he.transitional(he.boolean,"1.0.0"),clarifyTimeoutError:he.transitional(he.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(e)===!1||(i=i&&g.synchronous,n.unshift(g.fulfilled,g.rejected))});var a=[];this.interceptors.response.forEach(function(g){a.push(g.fulfilled,g.rejected)});var f;if(!i){var m=[Yr,void 0];for(Array.prototype.unshift.apply(m,n),m=m.concat(a),f=Promise.resolve(e);m.length;)f=f.then(m.shift(),m.shift());return f}for(var o=e;n.length;){var C=n.shift(),s=n.shift();try{o=C(o)}catch(u){s(u);break}}try{f=Yr(o)}catch(u){return Promise.reject(u)}for(;a.length;)f=f.then(a.shift(),a.shift());return f};xe.prototype.getUri=function(e){return e=He(this.defaults,e),Vi(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Gr.forEach(["delete","get","head","options"],function(e){xe.prototype[e]=function(r,n){return this.request(He(n||{},{method:e,url:r,data:(n||{}).data}))}});Gr.forEach(["post","put","patch"],function(e){xe.prototype[e]=function(r,n,i){return this.request(He(i||{},{method:e,url:r,data:n}))}});Xr.exports=xe});var gt=q((As,en)=>{"use strict";function vt(t){this.message=t}vt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};vt.prototype.__CANCEL__=!0;en.exports=vt});var rn=q((_s,tn)=>{"use strict";var Ji=gt();function Ie(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var r=this;t(function(i){r.reason||(r.reason=new Ji(i),e(r.reason))})}Ie.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ie.source=function(){var e,r=new Ie(function(i){e=i});return{token:r,cancel:e}};tn.exports=Ie});var sn=q((Fs,nn)=>{"use strict";nn.exports=function(e){return function(n){return e.apply(null,n)}}});var on=q((Os,an)=>{"use strict";an.exports=function(e){return typeof e=="object"&&e.isAxiosError===!0}});var cn=q((Bs,yt)=>{"use strict";var un=j(),$i=Xe(),Me=Qr(),Xi=pt(),Gi=ke();function ln(t){var e=new Me(t),r=$i(Me.prototype.request,e);return un.extend(r,Me.prototype,e),un.extend(r,e),r}var X=ln(Gi);X.Axios=Me;X.create=function(e){return ln(Xi(X.defaults,e))};X.Cancel=gt();X.CancelToken=rn();X.isCancel=ft();X.all=function(e){return Promise.all(e)};X.spread=sn();X.isAxiosError=on();yt.exports=X;yt.exports.default=X});var dn=q((Us,fn)=>{fn.exports=cn()});var pn=q((hn,je)=>{(function(t,e){"use strict";typeof je=="object"&&typeof je.exports=="object"?je.exports=e():typeof define=="function"&&define.amd?define([],e):t.objectPath=e()})(hn,function(){"use strict";var t=Object.prototype.toString;function e(s,u){return s==null?!1:Object.prototype.hasOwnProperty.call(s,u)}function r(s){if(!s||a(s)&&s.length===0)return!0;if(typeof s!="string"){for(var u in s)if(e(s,u))return!1;return!0}return!1}function n(s){return t.call(s)}function i(s){return typeof s=="object"&&n(s)==="[object Object]"}var a=Array.isArray||function(s){return t.call(s)==="[object Array]"};function f(s){return typeof s=="boolean"||n(s)==="[object Boolean]"}function m(s){var u=parseInt(s);return u.toString()===s?u:s}function o(s){s=s||{};var u=function(v){return Object.keys(u).reduce(function(l,b){return b==="create"||typeof u[b]=="function"&&(l[b]=u[b].bind(u,v)),l},{})},g;s.includeInheritedProps?g=function(){return!0}:g=function(v,l){return typeof l=="number"&&Array.isArray(v)||e(v,l)};function y(v,l){if(g(v,l))return v[l]}var O;s.includeInheritedProps?O=function(v,l){typeof l!="string"&&typeof l!="number"&&(l=String(l));var b=y(v,l);if(l==="__proto__"||l==="prototype"||l==="constructor"&&typeof b=="function")throw new Error("For security reasons, object's magic properties cannot be set");return b}:O=function(v,l){return y(v,l)};function _(v,l,b,x){if(typeof l=="number"&&(l=[l]),!l||l.length===0)return v;if(typeof l=="string")return _(v,l.split(".").map(m),b,x);var S=l[0],D=O(v,S);return l.length===1?((D===void 0||!x)&&(v[S]=b),D):(D===void 0&&(typeof l[1]=="number"?v[S]=[]:v[S]={}),_(v[S],l.slice(1),b,x))}return u.has=function(v,l){if(typeof l=="number"?l=[l]:typeof l=="string"&&(l=l.split(".")),!l||l.length===0)return!!v;for(var b=0;b<l.length;b++){var x=m(l[b]);if(typeof x=="number"&&a(v)&&x<v.length||(s.includeInheritedProps?x in Object(v):e(v,x)))v=v[x];else return!1}return!0},u.ensureExists=function(v,l,b){return _(v,l,b,!0)},u.set=function(v,l,b,x){return _(v,l,b,x)},u.insert=function(v,l,b,x){var S=u.get(v,l);x=~~x,a(S)||(S=[],u.set(v,l,S)),S.splice(x,0,b)},u.empty=function(v,l){if(!r(l)&&v!=null){var b,x;if(!!(b=u.get(v,l))){if(typeof b=="string")return u.set(v,l,"");if(f(b))return u.set(v,l,!1);if(typeof b=="number")return u.set(v,l,0);if(a(b))b.length=0;else if(i(b))for(x in b)g(b,x)&&delete b[x];else return u.set(v,l,null)}}},u.push=function(v,l){var b=u.get(v,l);a(b)||(b=[],u.set(v,l,b)),b.push.apply(b,Array.prototype.slice.call(arguments,2))},u.coalesce=function(v,l,b){for(var x,S=0,D=l.length;S<D;S++)if((x=u.get(v,l[S]))!==void 0)return x;return b},u.get=function(v,l,b){if(typeof l=="number"&&(l=[l]),!l||l.length===0)return v;if(v==null)return b;if(typeof l=="string")return u.get(v,l.split("."),b);var x=m(l[0]),S=O(v,x);return S===void 0?b:l.length===1?S:u.get(v[x],l.slice(1),b)},u.del=function(l,b){if(typeof b=="number"&&(b=[b]),l==null||r(b))return l;if(typeof b=="string")return u.del(l,b.split("."));var x=m(b[0]);if(O(l,x),!g(l,x))return l;if(b.length===1)a(l)?l.splice(x,1):delete l[x];else return u.del(l[x],b.slice(1));return l},u}var C=o();return C.create=o,C.withInheritedProps=o({includeInheritedProps:!0}),C})});var vn=q((wt,Ct)=>{(function(t,e){typeof wt=="object"&&typeof Ct!="undefined"?Ct.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self,t.Compressor=e())})(wt,function(){"use strict";function t(d,c){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(d);c&&(p=p.filter(function(E){return Object.getOwnPropertyDescriptor(d,E).enumerable})),h.push.apply(h,p)}return h}function e(d){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?t(Object(h),!0).forEach(function(p){a(d,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):t(Object(h)).forEach(function(p){Object.defineProperty(d,p,Object.getOwnPropertyDescriptor(h,p))})}return d}function r(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function n(d,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}function i(d,c,h){return c&&n(d.prototype,c),h&&n(d,h),d}function a(d,c,h){return c in d?Object.defineProperty(d,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[c]=h,d}function f(){return f=Object.assign||function(d){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(d[p]=h[p])}return d},f.apply(this,arguments)}var m={exports:{}};(function(d){typeof window!="undefined"&&function(c){var h=c.HTMLCanvasElement&&c.HTMLCanvasElement.prototype,p=c.Blob&&function(){try{return Boolean(new Blob)}catch(A){return!1}}(),E=p&&c.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(A){return!1}}(),w=c.BlobBuilder||c.WebKitBlobBuilder||c.MozBlobBuilder||c.MSBlobBuilder,B=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,T=(p||w)&&c.atob&&c.ArrayBuffer&&c.Uint8Array&&function(A){var F,U,P,$,z,R,W,N,oe;if(F=A.match(B),!F)throw new Error("invalid data URI");for(U=F[2]?F[1]:"text/plain"+(F[3]||";charset=US-ASCII"),P=!!F[4],$=A.slice(F[0].length),P?z=atob($):z=decodeURIComponent($),R=new ArrayBuffer(z.length),W=new Uint8Array(R),N=0;N<z.length;N+=1)W[N]=z.charCodeAt(N);return p?new Blob([E?W:R],{type:U}):(oe=new w,oe.append(R),oe.getBlob(U))};c.HTMLCanvasElement&&!h.toBlob&&(h.mozGetAsFile?h.toBlob=function(A,F,U){var P=this;setTimeout(function(){U&&h.toDataURL&&T?A(T(P.toDataURL(F,U))):A(P.mozGetAsFile("blob",F))})}:h.toDataURL&&T&&(h.msToBlob?h.toBlob=function(A,F,U){var P=this;setTimeout(function(){(F&&F!=="image/png"||U)&&h.toDataURL&&T?A(T(P.toDataURL(F,U))):A(P.msToBlob(F))})}:h.toBlob=function(A,F,U){var P=this;setTimeout(function(){A(T(P.toDataURL(F,U)))})})),d.exports?d.exports=T:c.dataURLtoBlob=T}(window)})(m);var o=m.exports,C=function(c){return typeof Blob=="undefined"?!1:c instanceof Blob||Object.prototype.toString.call(c)==="[object Blob]"},s={strict:!0,checkOrientation:!0,maxWidth:Infinity,maxHeight:Infinity,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},u=typeof window!="undefined"&&typeof window.document!="undefined",g=u?window:{},y=function(c){return c>0&&c<Infinity},O=Array.prototype.slice;function _(d){return Array.from?Array.from(d):O.call(d)}var v=/^image\/.+$/;function l(d){return v.test(d)}function b(d){var c=l(d)?d.substr(6):"";return c==="jpeg"&&(c="jpg"),".".concat(c)}var x=String.fromCharCode;function S(d,c,h){var p="",E;for(h+=c,E=c;E<h;E+=1)p+=x(d.getUint8(E));return p}var D=g.btoa;function Q(d,c){for(var h=[],p=8192,E=new Uint8Array(d);E.length>0;)h.push(x.apply(null,_(E.subarray(0,p)))),E=E.subarray(p);return"data:".concat(c,";base64,").concat(D(h.join("")))}function se(d){var c=new DataView(d),h;try{var p,E,w;if(c.getUint8(0)===255&&c.getUint8(1)===216)for(var B=c.byteLength,T=2;T+1<B;){if(c.getUint8(T)===255&&c.getUint8(T+1)===225){E=T;break}T+=1}if(E){var A=E+4,F=E+10;if(S(c,A,4)==="Exif"){var U=c.getUint16(F);if(p=U===18761,(p||U===19789)&&c.getUint16(F+2,p)===42){var P=c.getUint32(F+4,p);P>=8&&(w=F+P)}}}if(w){var $=c.getUint16(w,p),z,R;for(R=0;R<$;R+=1)if(z=w+R*12+2,c.getUint16(z,p)===274){z+=8,h=c.getUint16(z,p),c.setUint16(z,1,p);break}}}catch(W){h=1}return h}function G(d){var c=0,h=1,p=1;switch(d){case 2:h=-1;break;case 3:c=-180;break;case 4:p=-1;break;case 5:c=90,p=-1;break;case 6:c=90;break;case 7:c=90,h=-1;break;case 8:c=-90;break}return{rotate:c,scaleX:h,scaleY:p}}var ae=/\.\d*(?:0|9){12}\d*$/;function pe(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return ae.test(d)?Math.round(d*c)/c:d}function ee(d){var c=d.aspectRatio,h=d.height,p=d.width,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",w=y(p),B=y(h);if(w&&B){var T=h*c;(E==="contain"||E==="none")&&T>p||E==="cover"&&T<p?h=p/c:p=h*c}else w?h=p/c:B&&(p=h*c);return{width:p,height:h}}var Re=g.ArrayBuffer,te=g.FileReader,K=g.URL||g.webkitURL,L=/\.\w+$/,me=g.Compressor,Y=function(){function d(c,h){r(this,d),this.file=c,this.image=new Image,this.options=e(e({},s),h),this.aborted=!1,this.result=null,this.init()}return i(d,[{key:"init",value:function(){var h=this,p=this.file,E=this.options;if(!C(p)){this.fail(new Error("The first argument must be a File or Blob object."));return}var w=p.type;if(!l(w)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!K||!te){this.fail(new Error("The current browser does not support image compression."));return}if(Re||(E.checkOrientation=!1),K&&!E.checkOrientation)this.load({url:K.createObjectURL(p)});else{var B=new te,T=E.checkOrientation&&w==="image/jpeg";this.reader=B,B.onload=function(A){var F=A.target,U=F.result,P={};if(T){var $=se(U);$>1||!K?(P.url=Q(U,w),$>1&&f(P,G($))):P.url=K.createObjectURL(p)}else P.url=U;h.load(P)},B.onabort=function(){h.fail(new Error("Aborted to read the image with FileReader."))},B.onerror=function(){h.fail(new Error("Failed to read the image with FileReader."))},B.onloadend=function(){h.reader=null},T?B.readAsArrayBuffer(p):B.readAsDataURL(p)}}},{key:"load",value:function(h){var p=this,E=this.file,w=this.image;w.onload=function(){p.draw(e(e({},h),{},{naturalWidth:w.naturalWidth,naturalHeight:w.naturalHeight}))},w.onabort=function(){p.fail(new Error("Aborted to load the image."))},w.onerror=function(){p.fail(new Error("Failed to load the image."))},g.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(g.navigator.userAgent)&&(w.crossOrigin="anonymous"),w.alt=E.name,w.src=h.url}},{key:"draw",value:function(h){var p=this,E=h.naturalWidth,w=h.naturalHeight,B=h.rotate,T=B===void 0?0:B,A=h.scaleX,F=A===void 0?1:A,U=h.scaleY,P=U===void 0?1:U,$=this.file,z=this.image,R=this.options,W=document.createElement("canvas"),N=W.getContext("2d"),oe=Math.abs(T)%180==90,We=(R.resize==="contain"||R.resize==="cover")&&y(R.width)&&y(R.height),ve=Math.max(R.maxWidth,0)||Infinity,ge=Math.max(R.maxHeight,0)||Infinity,ye=Math.max(R.minWidth,0)||0,be=Math.max(R.minHeight,0)||0,ue=E/w,H=R.width,I=R.height;if(oe){var Rt=[ge,ve];ve=Rt[0],ge=Rt[1];var qt=[be,ye];ye=qt[0],be=qt[1];var Tt=[I,H];H=Tt[0],I=Tt[1]}We&&(ue=H/I);var St=ee({aspectRatio:ue,width:ve,height:ge},"contain");ve=St.width,ge=St.height;var At=ee({aspectRatio:ue,width:ye,height:be},"cover");if(ye=At.width,be=At.height,We){var _t=ee({aspectRatio:ue,width:H,height:I},R.resize);H=_t.width,I=_t.height}else{var Ft=ee({aspectRatio:ue,width:H,height:I}),Ot=Ft.width;H=Ot===void 0?E:Ot;var Bt=Ft.height;I=Bt===void 0?w:Bt}H=Math.floor(pe(Math.min(Math.max(H,ye),ve))),I=Math.floor(pe(Math.min(Math.max(I,be),ge)));var wn=-H/2,Cn=-I/2,En=H,xn=I,Ve=[];if(We){var Ut=0,Pt=0,Je=E,$e=w,Dt=ee({aspectRatio:ue,width:E,height:w},{contain:"cover",cover:"contain"}[R.resize]);Je=Dt.width,$e=Dt.height,Ut=(E-Je)/2,Pt=(w-$e)/2,Ve.push(Ut,Pt,Je,$e)}if(Ve.push(wn,Cn,En,xn),oe){var Lt=[I,H];H=Lt[0],I=Lt[1]}W.width=H,W.height=I,l(R.mimeType)||(R.mimeType=$.type);var Nt="transparent";if($.size>R.convertSize&&R.convertTypes.indexOf(R.mimeType)>=0&&(R.mimeType="image/jpeg"),R.mimeType==="image/jpeg"&&(Nt="#fff"),N.fillStyle=Nt,N.fillRect(0,0,H,I),R.beforeDraw&&R.beforeDraw.call(this,N,W),!this.aborted&&(N.save(),N.translate(H/2,I/2),N.rotate(T*Math.PI/180),N.scale(F,P),N.drawImage.apply(N,[z].concat(Ve)),N.restore(),R.drew&&R.drew.call(this,N,W),!this.aborted)){var kt=function(Rn){p.aborted||p.done({naturalWidth:E,naturalHeight:w,result:Rn})};W.toBlob?W.toBlob(kt,R.mimeType,R.quality):kt(o(W.toDataURL(R.mimeType,R.quality)))}}},{key:"done",value:function(h){var p=h.naturalWidth,E=h.naturalHeight,w=h.result,B=this.file,T=this.image,A=this.options;if(K&&!A.checkOrientation&&K.revokeObjectURL(T.src),w)if(A.strict&&w.size>B.size&&A.mimeType===B.type&&!(A.width>p||A.height>E||A.minWidth>p||A.minHeight>E||A.maxWidth<p||A.maxHeight<E))w=B;else{var F=new Date;w.lastModified=F.getTime(),w.lastModifiedDate=F,w.name=B.name,w.name&&w.type!==B.type&&(w.name=w.name.replace(L,b(w.type)))}else w=B;this.result=w,A.success&&A.success.call(this,w)}},{key:"fail",value:function(h){var p=this.options;if(p.error)p.error.call(this,h);else throw h}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=me,d}},{key:"setDefaults",value:function(h){f(s,h)}}]),d}();return Y})});Ht(exports);Fn(exports,{default:()=>Yi});var ze=we(require("obsidian")),gn=we(dn()),yn=we(pn());var Z=we(require("obsidian")),bt=class extends Z.PluginSettingTab{constructor(e,r){super(e,r);this.plugin=r}display(){let{containerEl:e}=this;e.empty(),e.createEl("h3",{text:"Image Hosting Setting"}),new Z.Setting(e).setName("Api Endpoint").setDesc("The endpoint of the image hosting api.").addText(r=>{r.setPlaceholder("").setValue(this.plugin.settings.apiEndpoint).onChange(async n=>{this.plugin.settings.apiEndpoint=n,await this.plugin.saveSettings()})}),new Z.Setting(e).setName("Upload Header").setDesc("The header of upload request in json format.").addTextArea(r=>{r.setPlaceholder("").setValue(this.plugin.settings.uploadHeader).onChange(async n=>{try{this.plugin.settings.uploadHeader=n,await this.plugin.saveSettings()}catch(i){console.log(i)}}),r.inputEl.rows=5,r.inputEl.cols=40}),new Z.Setting(e).setName("Upload Body").setDesc("The body of upload request in json format. Do NOT change it unless you know what you are doing.").addTextArea(r=>{r.setPlaceholder("").setValue(this.plugin.settings.uploadBody).onChange(async n=>{try{this.plugin.settings.uploadBody=n,await this.plugin.saveSettings()}catch(i){console.log(i)}}),r.inputEl.rows=5,r.inputEl.cols=40}),new Z.Setting(e).setName("Image Url Path").setDesc("The path to the image url in http response.").addText(r=>{r.setPlaceholder("").setValue(this.plugin.settings.imageUrlPath).onChange(async n=>{this.plugin.settings.imageUrlPath=n,await this.plugin.saveSettings()})}),new Z.Setting(e).setName("Enable Resize").setDesc("Resize the image before uploading").addToggle(r=>{r.setValue(this.plugin.settings.enableResize).onChange(async n=>{this.plugin.settings.enableResize=n,this.display()})}),this.plugin.settings.enableResize&&new Z.Setting(e).setName("Max Width").setDesc("The image wider than this will be resized by the natural aspect ratio").addText(r=>{r.setPlaceholder("").setValue(this.plugin.settings.maxWidth.toString()).onChange(async n=>{this.plugin.settings.maxWidth=parseInt(n),await this.plugin.saveSettings()})})}},mn=bt;var bn=we(vn());var Et=class extends ClipboardEvent{constructor(e){let{files:r}=e.clipboardData,n=new DataTransfer;for(let i=0;i<r.length;i+=1)n.items.add(r.item(i));super("paste",{clipboardData:n})}};var Ki={apiEndpoint:null,uploadHeader:null,uploadBody:'{"image": "$FILE"}',imageUrlPath:null,maxWidth:4096,enableResize:!1},xt=class extends ze.Plugin{replaceText(e,r,n){r=r.trim();let i=e.getValue().split(`
`);for(let a=0;a<i.length;a++){let f=i[a].indexOf(r);if(f!==-1){let m={line:a,ch:f},o={line:a,ch:f+r.length};e.setCursor(m),e.replaceRange(n,m,o);break}}}async pasteHandler(e,r,n){if(e.defaultPrevented){console.log("paste event is canceled");return}let i=e.clipboardData.files[0],a=/image.*/;if(i.type.match(a)){e.preventDefault();let m=`![uploading...](${(Math.random()*10086).toString(36).substring(0,8)})
`;if(r.replaceSelection(m),this.settings.enableResize){let s=this.settings.maxWidth;i=await new Promise((g,y)=>{new bn.default(i,{maxWidth:s,success:g,error:y})})}let o=new FormData,C=JSON.parse(this.settings.uploadBody);for(let s in C)C[s]=="$FILE"?o.append(s,i,i.name):o.append(s,C[s]);gn.default.post(this.settings.apiEndpoint,o,{headers:JSON.parse(this.settings.uploadHeader)}).then(s=>{let g=`![](${yn.default.get(s.data,this.settings.imageUrlPath)})`;this.replaceText(r,m,g)},s=>{new ze.Notice("[Image Uploader] Upload unsuccessfully, fall back to default paste!",5e3),console.log(s),this.replaceText(r,m,""),console.log(n.currentMode),n.currentMode.clipboardManager.handlePaste(new Et(e))})}}async onload(){console.log("loading Image Uploader"),await this.loadSettings(),this.addSettingTab(new mn(this.app,this)),this.pasteFunction=this.pasteHandler.bind(this),this.registerEvent(this.app.workspace.on("editor-paste",this.pasteFunction))}onunload(){this.app.workspace.off("editor-paste",this.pasteFunction),console.log("unloading Image Uploader")}async loadSettings(){this.settings=Object.assign({},Ki,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}},Yi=xt;
/*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 */
